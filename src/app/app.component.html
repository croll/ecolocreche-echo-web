<div fxLayout="row" fxLayoutWrap="none" class="echos-header">
  <button mat-button (click)="toggleMenu()" class="echos-menu-button" *ngIf="!isNotLogged()" [ngStyle]="{color: (!menuVisibility) ? '#009688' : '#ff9800'}"><mat-icon>menu</mat-icon></button>
  <div fxFlex fxFlexOffset="0" fxFlexOffset.gt-sm="30px" class="echos-logo" routerLink="/"></div>
  <button mat-mini-fab *ngIf="!isNotLogged()" class="login-logout-button" color="secondary" routerLink="/deconnexion" routerLinkActive="active" (click)="menuHide($event, true)" style="color: #ff9800"><mat-icon>eject</mat-icon></button>
  <button mat-mini-fab *ngIf="isNotLogged()" class="login-logout-button" color="secondary" routerLink="/connexion" routerLinkActive="active" (click)="menuHide($event, true)" style="color: #009688"><mat-icon>person</mat-icon></button>
</div>
<div class="echos-main-container" fxLayout="row">
  <div [ngClass]="{'echos-menu': true, 'echos-menu-hide': !menuVisibility}" (click)="menuHide($event)">
    <mat-list>
       <mat-list-item *ngIf="isAgent()" routerLink="/utilisateur/moi" routerLinkActive="active" (click)="menuHide($event)">Mon compte</mat-list-item>
       <mat-divider></mat-divider>
       <mat-list-item *ngIf="isAgent()" routerLink="/etablissement/liste" routerLinkActive="active" (click)="menuHide($event)">Les établissements</mat-list-item>
       <mat-divider></mat-divider>
       <mat-list-item *ngIf="isAgent()" routerLink="/audit/liste/actifs" routerLinkActive="active" (click)="menuHide($event)">Les audits en cours</mat-list-item>
       <mat-divider></mat-divider>
       <mat-list-item *ngIf="isAdmin()" routerLink="/utilisateur/liste" routerLinkActive="active" (click)="menuHide($event)">Les utilisateurs</mat-list-item>
       <mat-divider></mat-divider>
       <mat-list-item *ngIf="isSuperAgent()" routerLink="/theme/liste" routerLinkActive="active" (click)="menuHide($event)">Banque de questions</mat-list-item>
       <mat-divider></mat-divider>
       <mat-list-item *ngIf="isSuperAgent()" routerLink="/questionnaire/liste" routerLinkActive="active" (click)="menuHide($event)">Les questionnaires</mat-list-item>
       <mat-divider></mat-divider>
       <mat-list-item *ngIf="isSuperAgent()" routerLink="/questionnaire_recap_actions/liste" routerLinkActive="active" (click)="menuHide($event)">Les recap actions</mat-list-item>
       <mat-divider></mat-divider>
    </mat-list>
  </div>
  <router-outlet></router-outlet>
</div>
<div class="echos-footer">
  <div fxLayout="row" fxLayout.sm="column" fxLayoutAlign="center center" fxLayoutAlign.gt-sm="space-between">
    <div fxFlexOffset.gt-sm="50px" fxFlexOffset="35px"> Copyright 2017 ECHO(S)</div>
    <div class="copyright-caption">Pour une transition écologique Audit.Formation.Conseil</div>
  </div>
  <div class="croll-container" fxLayout="row" fxLayoutAlign="center center" fxLayoutAlign.gt-sm="end end">
    <div fxFlexOffset="35px" fxFlexOffset.gt-sm="50px">Réalisation logiciel : <a class="croll" href="http://www.croll.fr" title="CROLL" target="_blank">CROLL</a></div>
  </div>
</div>

<mat-progress-bar id="mainprogress" color="accent" mode="determinate" value="processProgressPercent" ></mat-progress-bar>

<div id="loading" class="not-loading">
  <div style="position: absolute; left: 0; right: 0; top: 40%; text-align: center; font-weight: bold;">
    <mat-spinner style="display: inline-block"></mat-spinner>
    <br />
    <br />
    Chargement...
  </div>
</div>
